<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meyre Lanches - Banco de Dados</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{background:linear-gradient(135deg,#006400 0%,#32CD32 100%);color:#fff;min-height:100vh}
    .navbar{background:rgba(255,255,255,0.95);backdrop-filter:blur(10px)}
    .nav-link{color:#006400 !important;font-weight:600;padding:12px 20px !important;border-radius:8px}
    .nav-link:hover,.nav-link.active{background:#228B22;color:white !important}
    .card{background:white;color:#333;border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.3)}
    .table th{background:#228B22;color:white}
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand fs-3" href="index.html">Meyre Lanches</a>
      <ul class="navbar-nav ms-auto">
        <li><a class="nav-link" href="index.html">Caixa</a></li>
        <li><a class="nav-link" href="estoque.html">Produtos</a></li>
        <li><a class="nav-link active" href="banco.html">Banco de Dados</a></li>
        <li><a class="nav-link" href="relatorio.html">Relatório</a></li>
      </ul>
    </div>
  </nav>

  <div class="container my-5 pt-5">
    <h2 class="text-center mb-5 text-white">Banco de Dados Completo</h2>
    <div class="card p-4">
      <h4 class="text-success">Produtos</h4>
      <div class="table-responsive"><table class="table table-striped" id="tabProd"></table></div>
      <hr>
      <h4 class="text-primary">Vendas</h4>
      <div class="table-responsive"><table class="table table-striped" id="tabVend"></table></div>
    </div>
  </div>

  <script>
    const estoque = JSON.parse(localStorage.getItem('estoqueMeyre')||'[]');
    const caixa = JSON.parse(localStorage.getItem('caixaMeyre')||'{"movimentos":[]}');
    const tp = document.getElementById('tabProd');
    tp.innerHTML = '<thead><tr><th>Produto</th><th>Custo</th><th>Desc.%</th><th>Lucro%</th><th>Venda</th><th>Lucro R$</th></tr></thead><tbody>';
    estoque.forEach(p=>{
      const cf = p.custo*(1-p.desconto/100);
      const v = cf*(1+p.lucro/100);
      tp.innerHTML += `<tr><td><strong>${p.nome}</strong></td><td>R$ ${p.custo.toFixed(2)}</td><td>${p.desconto}%</td><td>${p.lucro}%</td><td class="text-success">R$ ${v.toFixed(2)}</td><td class="text-warning">R$ ${(v-cf).toFixed(2)}</td></tr>`;
    });
    tp.innerHTML += '</tbody>';

    const tv = document.getElementById('tabVend');
    tv.innerHTML = '<thead><tr><th>Data</th><th>Descrição</th><th>Valor</th></tr></thead><tbody>';
    caixa.movimentos.forEach(m=>tv.innerHTML += `<tr><td>${m.data}</td><td>${m.desc}</td><td class="text-success fw-bold">R$ ${m.valor.toFixed(2)}</td></tr>`);
    tv.innerHTML += '</tbody>';
  </script>
</body>
</html>
